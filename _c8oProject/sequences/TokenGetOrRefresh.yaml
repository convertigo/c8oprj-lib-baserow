accessibility: Private
comment: Gets a token or refresh it if the token is expired the Token will be placed in the current user session
↓owner [steps.SimpleStep-1729093479669]: 
  expression: |
    'email += "";
    password += "";
    
    if (password || email) {
    	owner = "" + org.apache.commons.codec.digest.DigestUtils.md5Hex("owner:" + email + ":" + password);
    } else {
    	owner = "owner";
    }'
↓GetTokenOwnerFromSession [steps.SessionGetStep-1729093387316]: 
  key: token_owner
  output: false
↓IfExistSameOwner [steps.IfExistStep-1729093461696]: 
  condition: IfExistSameOwner
  sourceDefinition: 
    - xmlizable: 
      - ↑classname: com.twinsoft.convertigo.beans.common.XMLVector
      - com.twinsoft.convertigo.beans.common.XMLVector: 
        - java.lang.String: 
          - ↑value: 1729093387316
        - java.lang.String: 
          - ↑value: ./expression[. = '{{{ owner }}}' or 'owner' = '{{{ owner }}}']
  ↓GetTokenFromSession [steps.SessionGetStep-1666701028415]: 
    key: token
    output: false
  ↓IfExist [steps.IfExistStep-1729093759252]: 
    condition: IfExist
    sourceDefinition: 
      - xmlizable: 
        - ↑classname: com.twinsoft.convertigo.beans.common.XMLVector
        - com.twinsoft.convertigo.beans.common.XMLVector: 
          - java.lang.String: 
            - ↑value: 1666701028415
          - java.lang.String: 
            - ↑value: ./expression/text()
    ↓Log [steps.LogStep-1666701028424]: 
      expression: '"Token exists in session"'
      level: WARN
    ↓GetTimeStampFromSession [steps.SessionGetStep-1666701188304]: 
      key: token_timestamp
      output: false
    ↓jSimpleSource [steps.SimpleSourceStep-1666701220195]: 
      sourceDefinition: 
        - xmlizable: 
          - ↑classname: com.twinsoft.convertigo.beans.common.XMLVector
          - com.twinsoft.convertigo.beans.common.XMLVector: 
            - java.lang.String: 
              - ↑value: 1666701188304
            - java.lang.String: 
              - ↑value: ./expression/text()
      variableName: jTimeStamp
    ↓Log1 [steps.LogStep-1667559305817]: 
      expression: '"Token age (ms): " + (new Date().getTime() - jTimeStamp * 1)'
      level: WARN
    ↓jIf [steps.IfStep-1729093826484]: 
      condition: new Date().getTime() - jTimeStamp * 1 <= 58000
      ↓Concat [steps.XMLConcatStep-1666973297154]: 
        nodeName: Bearer
        sourcesDefinition: 
          - xmlizable: 
            - ↑classname: com.twinsoft.convertigo.beans.common.XMLVector
            - com.twinsoft.convertigo.beans.common.XMLVector: 
              - xmlizable: 
                - ↑classname: com.twinsoft.convertigo.beans.common.XMLVector
                - com.twinsoft.convertigo.beans.common.XMLVector: 
                  - java.lang.String: 
                    - ↑value: description
                  - xmlizable: 
                    - ↑classname: com.twinsoft.convertigo.beans.common.XMLVector
                    - com.twinsoft.convertigo.beans.common.XMLVector: 
                  - java.lang.String: 
                    - ↑value: JWT
              - xmlizable: 
                - ↑classname: com.twinsoft.convertigo.beans.common.XMLVector
                - com.twinsoft.convertigo.beans.common.XMLVector: 
                  - java.lang.String: 
                    - ↑value: ''
                  - xmlizable: 
                    - ↑classname: com.twinsoft.convertigo.beans.common.XMLVector
                    - com.twinsoft.convertigo.beans.common.XMLVector: 
                      - java.lang.String: 
                        - ↑value: 1666701028415
                      - java.lang.String: 
                        - ↑value: ./expression/text()
                  - java.lang.String: 
                    - ↑value: ''
      ↓Return [steps.ReturnStep-1729093844301]: 
↓Log [steps.LogStep-1666701028430]: 
  expression: '"Token does not exist in session"'
  level: WARN
↓SetTokenOwnerInSession [steps.SessionSetStep-1729093941070]: 
  expression: 
    - xmlizable: 
      - ↑classname: com.twinsoft.convertigo.beans.steps.SmartType
      - SmartType: 
        - ↑mode: JS
        - →→: owner
  key: token_owner
↓Call_Sequence1 [steps.SequenceStep-1666701028433]: 
  sourceSequence: lib_BaseRow.AdminLogin
  ↓password [variables.StepVariable-1729092062943]: 
    comment: The baserow admin password
    value: 
      - ↑ciphered: true
      - ↑traceable: false
      - →→: xd8e180806a1c1d83a6255212121ab827
    visibility: '-1'
  ↓email [variables.StepVariable-1729092062945]: 
    comment: The Base row admin email
↓GetTokenFromSession [steps.SessionGetStep-1666973397656]: 
  key: token
  output: false
↓Concat [steps.XMLConcatStep-1666973304575]: 
  nodeName: Bearer
  sourcesDefinition: 
    - xmlizable: 
      - ↑classname: com.twinsoft.convertigo.beans.common.XMLVector
      - com.twinsoft.convertigo.beans.common.XMLVector: 
        - xmlizable: 
          - ↑classname: com.twinsoft.convertigo.beans.common.XMLVector
          - com.twinsoft.convertigo.beans.common.XMLVector: 
            - java.lang.String: 
              - ↑value: description
            - xmlizable: 
              - ↑classname: com.twinsoft.convertigo.beans.common.XMLVector
              - com.twinsoft.convertigo.beans.common.XMLVector: 
            - java.lang.String: 
              - ↑value: JWT
        - xmlizable: 
          - ↑classname: com.twinsoft.convertigo.beans.common.XMLVector
          - com.twinsoft.convertigo.beans.common.XMLVector: 
            - java.lang.String: 
              - ↑value: ''
            - xmlizable: 
              - ↑classname: com.twinsoft.convertigo.beans.common.XMLVector
              - com.twinsoft.convertigo.beans.common.XMLVector: 
                - java.lang.String: 
                  - ↑value: 1666973397656
                - java.lang.String: 
                  - ↑value: ./expression/text()
            - java.lang.String: 
              - ↑value: ''
↓password [variables.RequestableVariable-1729092065618]: 
  comment: The baserow admin password
  value: 
    - ↑ciphered: true
    - ↑traceable: false
    - →→: xd8e180806a1c1d83a6255212121ab827
  visibility: '-1'
↓email [variables.RequestableVariable-1729092065620]: 
  comment: The Base row admin email
  value: 